# UltraHiT 端口映射到本地主机

## 方法一：SSH 端口转发（推荐）

如果您在远程服务器上运行此项目，可以通过 SSH 端口转发将远程端口映射到本地。

### 步骤：

1. **在远程服务器上启动 HTTP 服务器**：
   ```bash
   cd /mnt/users/wangyuxuan-20250915/Project/UltraHiT
   python3 start_server.py
   ```
   或者指定端口：
   ```bash
   python3 start_server.py 8080
   ```

2. **在本地机器上建立 SSH 端口转发**：
   ```bash
   ssh -L 8000:localhost:8000 username@remote_server_ip
   ```
   
   或者如果远程服务器上的服务运行在其他端口（如8080）：
   ```bash
   ssh -L 8000:localhost:8080 username@remote_server_ip
   ```

3. **在本地浏览器访问**：
   打开浏览器，访问 `http://localhost:8000`

### SSH 端口转发参数说明：
- `-L 8000:localhost:8000` 表示将本地8000端口转发到远程服务器的8000端口
- 格式：`-L [本地端口]:[远程主机]:[远程端口]`
- 如果远程服务器上的服务绑定在 `0.0.0.0` 而不是 `localhost`，可能需要使用服务器的内网IP

## 方法二：使用 Python 内置服务器（最简单）

### 在远程服务器上：
```bash
cd /mnt/users/wangyuxuan-20250915/Project/UltraHiT
python3 -m http.server 8000
```

### 然后使用 SSH 端口转发：
```bash
ssh -L 8000:localhost:8000 username@remote_server_ip
```

## 方法三：后台运行服务器

如果想让服务器在后台运行：

```bash
cd /mnt/users/wangyuxuan-20250915/Project/UltraHiT
nohup python3 start_server.py > server.log 2>&1 &
```

查看日志：
```bash
tail -f server.log
```

停止后台服务：
```bash
# 查找进程
ps aux | grep start_server.py
# 或者
lsof -i :8000
# 停止进程
kill <PID>
```

## 方法四：使用 screen 或 tmux

使用 screen：
```bash
screen -S ultrahit
cd /mnt/users/wangyuxuan-20250915/Project/UltraHiT
python3 start_server.py
# 按 Ctrl+A 然后 D 来分离会话
```

重新连接：
```bash
screen -r ultrahit
```

## 注意事项

1. **防火墙设置**：确保远程服务器的防火墙允许相应端口的访问
2. **SSH 配置**：如果 SSH 连接断开，端口转发也会断开。可以使用 `-N` 参数只建立转发而不执行命令：
   ```bash
   ssh -N -L 8000:localhost:8000 username@remote_server_ip
   ```
3. **端口冲突**：如果本地8000端口已被占用，可以改用其他端口：
   ```bash
   ssh -L 8080:localhost:8000 username@remote_server_ip
   ```
   然后访问 `http://localhost:8080`

